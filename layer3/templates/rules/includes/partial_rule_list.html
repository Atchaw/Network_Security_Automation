<style>
    .interfaces {
        counter-reset: total;
    }
    
    .interface {
        opacity: 0;
        position: absolute;
    }
    
    .label_int {
        position: relative;
        display: block;
        background: #f8f8f8;
        border: 1px solid #f0f0f0;
        border-radius: 2em;
        padding: .5em 1em .5em 5em;
        box-shadow: 0 1px 2px rgba(100, 100, 100, .5) inset, 0 0 10px rgba(100, 100, 100, .1) inset;
        cursor: pointer;
        text-shadow: 0 2px 2px #fff;
    }
    
    .label_int::before {
        content: '';
        position: absolute;
        top: 50%;
        left: .7em;
        width: 3em;
        height: 1.2em;
        border-radius: .6em;
        background: #eee;
        transform: translateY(-50%);
        box-shadow: 0 1px 3px rgba(100, 100, 100, .5) inset, 0 0 10px rgba(100, 100, 100, .2) inset;
    }
    
    .label_int::after {
        content: '';
        position: absolute;
        top: 50%;
        left: .5em;
        width: 1.4em;
        height: 1.4em;
        border: .25em solid #fafafa;
        border-radius: 50%;
        box-sizing: border-box;
        background-color: #ddd;
        background-image: linear-gradient(to top, #fff 0%, #fff 40%, transparent 100%);
        transform: translateY(-50%);
        box-shadow: 0 3px 3px rgba(0, 0, 0, .5);
    }
    
    .label_int,
    .label_int::before,
    .label_int::after {
        transition: all .2s cubic-bezier(0.165, 0.840, 0.440, 1);
    }
    
    .label_int:hover,
    .interface:focus+label {
        color: black;
    }
    
    .interface:focus+label::after {
        background-color: #ccc;
        box-shadow: 0 1px 2px rgba(0, 0, 0, .5);
    }
    
    .interface:checked {
        counter-increment: total;
    }
    
    .interface:checked+label::before {
        background: #1CE;
    }
    
    .interface:checked+label::after {
        transform: translateX(2em) translateY(-50%);
    }
    
    .total::after {
        content: counter(total);
        font-weight: bold;
    }
    /* misc */
    
    .interfaces {
        margin: auto;
        padding: 1em;
        background: white;
        box-shadow: 0 1px 2px rgba(0, 0, 0, .3);
    }
    
    .int {
        margin: 1em 0;
        font: 1.5em/1.4 'Open Sans Condensed', sans-serif;
        color: #777;
    }
</style>
{% for rule in rules %}
<tr>
    <td>{{ rule.pk }}</td>
    <td>{{ rule.number }}</td>
    <td>{{ rule.sourceIP }}</td>
    <td>{{ rule.destinationIP }}</td>
    <td>{{ rule.protocol }}</td>

    <td style="width: 150px">
        <button type="button" name="edit" class="btn btn-warning btn-sm js-update-rule" data-url="{% url 'rule_update' rule.pk %}">
        <span class="glyphicon glyphicon-pencil"></span> Edit
      </button>
        <button type="button" class="btn btn-danger btn-sm js-delete-rule" data-url="{% url 'rule_delete' rule.pk %}">
        <span class="glyphicon glyphicon-trash"></span> Delete
      </button>

        <!-- Apply ACL -->
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#dhcpSnooping">ACL</button>
        <!-- Modal -->
        <div class="modal fade" id="dhcpSnooping" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header ">
                        <h4 class="modal-title" id="exampleModalLabel">Access Control Lists</h4>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
                    </div>
                    <div class="modal-body">
                        <h4>Interfaces</h4>
                    </div>
                    <section class="interfaces">
                        <form method="POST">
                            {%csrf_token%} {% for int in interfaces %}
                            <div class="int">
                                {{f}}
                            </div>
                            {% endfor %}
                            <div class="total int">
                                Total checked:
                            </div>
                            <input type="hidden" value="{{ rule.pk }}" name="rule_number" />
                            <div class="modal-footer">
                                <button type="button" class="btn btn-primary">Apply</button>
                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            </div>
                        </form>
                    </section>
                </div> <input class="interface" id="{{ int.name_int}}" type="checkbox" name="interface" />
                <label class="label_int" </div>
        </div>
    </td>
</tr>
{% empty %}
<tr>
    <td colspan="8" class="text-center bg-warning">No rule</td>
</tr>
{% endfor %}